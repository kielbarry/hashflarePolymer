<link rel="import" href="../bower_components/polymer/polymer-element.html">

<!-- <script src="https://d3js.org/d3.v4.min.js"></script> -->
<link rel="import" href="shared-styles.html">

<dom-module id="allaccounts-piechart">
  <template>
    <style include="shared-styles">
      :host {
        display: block;

        padding: 10px;
      }
    </style>

    <div class="card">
      <div class="circle">2</div>
      <h1>View Two</h1>
      <p>Ea duis bonorum nec, falli paulo aliquid ei eum.</p>
      <p>Id nam odio natum malorum, tibique copiosae expetenda mel ea.Detracto suavitate repudiandae no eum. Id adhuc minim soluta nam.Id nam odio natum malorum, tibique copiosae expetenda mel ea.</p>
    </div>


     <iron-ajax id="ajaxAllAccountValues" method="GET" handle-as="json" content-type="application/json" on-response="populatePieChart"></iron-ajax>

  </template>

  <script>
    class AllAccountsPieChart extends Polymer.Element {
      static get is() { 
        return 'allaccounts-piechart' 
      }

      static get properties(){
        return {

        }
      }

      constructor(){
        super()
      }

      getAllAccountValues(){
        this.$.ajaxAllAccountValues.url = "/allaccountvalues"
        this.$.ajaxAllAccountValues.generateRequest();
      }

      populatePieChart(response){
        console.log("response in populatePieChart", response)
      }

      ready(){
        super.ready()
        this.getAllAccountValues()
      }


    }

    window.customElements.define(AllAccountsPieChart.is, AllAccountsPieChart);
  </script>
</dom-module>
